# Electron 1

- https://www.electronjs.org/

## Electron 의 개념

- Node.js 와 Chromium 기반
- HTML, CSS, JavaScript, 그리고 웹 프레임워크를 사용한 데스크톱용 앱 개발
- 다양한 OS 에서 실행되는 크로스 플랫폼 개발
- Atom 에디터를 위한 Atom Shell 에서부터 명칭 변경 및 지속적 발전
- 고사양이 아닌 애플리케이션에 적합

## Electron 의 특징

- 사용자 경험 안정성 향상: 메인 프로세스와 렌더러 프로세스의 분리
- 모듈화: 각 프로세스가 개별 모듈로 동작
- 보안: 렌더러 프로세스의 샌드박싱[^1]을 통해 주요 시스템 기능과 격리
- 자동 업데이트 시스템: 사용자가 최신 버전을 사용할 수 있도록 보장
- 애플리케이션 초기화와 이벤트 루프
- 메인 프로세스와 렌더러 프로세스 간 이벤트 기반 통신

### 구조

- https://github.com/electron/electron-quick-start
- main.js: 애플리케이션 진입점, 운영체제와의 상호작용
- index.html: 첫 번째 렌더러 프로세스의 시작점, UI 정의

---

- [^1] 샌드박싱: 프로세스가 제한된 환경에서만 작동하도록 하여 잠재적인 보안 위협으로부터 보호

## Electron 적용 사례

- Atom 에디터
- Slack 데스크톱 앱
- Discord 데스크톱 앱
- Microsoft Visual Studio Code: 성능 및 확장성 문제 해결
- WordPress 데스크톱 앱: 웹과 데스크톱 간 통합
- Trello 데스크톱 앱: 사용자 경험의 일관성 유지
- WhatsApp 데스크톱 앱: 모바일 앱 기능을 데스크톱으로 확장

## Electron 아키텍처

- IPC 를 통한 메시지 전달과 명령 실행(프로세스 간 통신)
- 메인 프로세스와 렌더러 프로세스의 분리로 보안 향상
- 각 렌더러 프로세스의 독립 실행으로 애플리케이션 안정성 보장

### IPC

#### 목적

- 데이터와 명령어의 일관된 흐름 유지
- 사용자 입력에 대한 신속한 반응과 처리
- 멀티태스킹 및 동시성 관리

#### 구현

- `ipcMain` 과 `ipcRenderer` 모듈 사용
- 비동기식 메시지 전송과 이벤트 기반 통신
- 효율적인 프로세스 간 데이터 공유와 이벤트 핸들링

#### 장점

- 복잡한 작업의 백그라운드 처리
- 사용자 경험 개선을 위한 인터페이스 반응성 증진
- 애플리케이션의 확장성 및 유지보수 용이성 향상

### 프로세스 모델

#### 메인 프로세스

- 애플리케이션 로직과 네이티브 리소스 관리
- 사용자 인터페이스 창 생성 및 생명주기 제어  
  (렌더러 프로세스들 관리)
- 글로벌 이벤트 및 서비스 조정
- 네이티브 OS 기능과 직접적으로 상호작용
- Node.js 기반으로 동작

#### 렌더러 프로세스

- 웹 페이지 또는 웹 인터페이스 렌더링
- DOM 조작 및 웹페이지 스크립트 실행
- 프로세스 간 통신(IPC)를 통한 메인 프로세스와의 데이터 교환
- 브라우저 탭처럼 각 렌더러 프로세스는 독립적으로 동작

### Lifecycle

1. 시작 및 준비:

- `app` 모듈을 통한 초기 설정과 준비 상태 관리
- 렌더러 프로세스 준비와 동기화
- 시작 시 리소스와 서비스 로드

2. 활성화 및 유휴 상태 관리:

- 사용자 상호작용에 따른 앱 활성화 처리
- 시스템 트레이나 도크(dock)를 통한 최소화 및 복구
- 유휴 상태 감지 및 백그라운드 작업 최적화

3. 종료 및 세션 종료 처리:

- 모든 윈도우 닫힘 이벤트 감지 및 안전한 종료 수행
- 세션 데이터 저장과 복구
- 사용자 또는 시스템에 의한 종료 요청 처리
